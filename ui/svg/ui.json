{
	"styles": {
		"scrollbarThumbColor": "#b0bec5",
		"scrollbarBackgroundColor": "transparent",
		"scrollbarWidth": 2,
		"errorColor": "#ff1744",
		"warningColor": "#ff7777",
		"minInteractiveBlockSize": 72,
		"eventRightAlign": true
	},

	"css": [
		"svg.css"
	],

	"miscSettings": {
		"advancedModeEnabled": false,
		"basicMultiEvent": true,
		"advancedMultiEvent": true,
		"viewRelativeSizes": {
			"vpl": 2,
			"src": 1,
			"sim": 2
		}
	},

	"fragments": {
		"about.html": "<iframe src=\"vpl-about.html\" style=\"width:100%;height:100%;border:none;\"></iframe>",
		"help.html": "<iframe src=\"UIROOT/help/vpl_help.html\" style=\"width:100%;height:100%;border:none;\"></iframe>",
		"vpl-export-html.css": "td.events, td.then, td.actions {\n\tborder: solid 2px silver;\n\tborder-style: solid none;\n}\ntd.block {\n\tpadding: 15px;\n}\ntd.events {\n    min-width: 20px;\n    border-left-style: solid;\n    border-top-left-radius: 20px; \n    border-bottom-left-radius: 20px;\n}\ntd.state, td.event-aux {\n    transform: scale(0.8) translate(0,10px);\n}\ntd.actions {\n    min-width: 20px;\n    border-right-style: solid;\n    border-bottom-right-radius: 20px; \n    border-top-right-radius: 20px;\n}\ntd.comment {\n\tfont-family: sans-serif;\n}\ntable.program {\n\tborder-collapse: separate;\n\tborder-spacing: 0 10px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n"
	},

	"doc": {
		"en": {
			"doctemplate.html": "doctemplate-en.html"
		},
		"de": {
			"doctemplate.html": "doctemplate-de.html"
		},
		"fr": {
			"doctemplate.html": "doctemplate-fr.html"
		},
		"it": {
			"doctemplate.html": "doctemplate-it.html"
		}
	},

	"blocks": [
		{
			"name": "!stop",
			"type": "hidden"
		},
		{
			"name": "!stop and blink",
			"type": "hidden"
		},
		{
			"name": "!init",
			"type": "hidden"
		},
		{
			"name": "!volume",
			"type": "hidden"
		},
		{
			"name": "!trace",
			"type": "hidden"
		},
		{
			"name": "init",
			"type": "event",
			"modes": ["basic", "advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Start"
				}
			],
			"defaultParameters": []
		},
		{
			"name": "button 1",
			"type": "event",
			"modes": ["basic", "advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Bg_Thymio"
				},
				{
					"uri": "Blocks.svg#Ev_Buttons"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_Center",
					"val": 0,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Forward",
					"val": 1,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Backward",
					"val": 2,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Right",
					"val": 3,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Left",
					"val": 4,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				}
			]
		},
		{
			"name": "roll",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Rot360Rail"
				},
				{
					"uri": "Blocks.svg#Acc1"
				}
			],
			"defaultParameters": [0],
			"rotating": [
				{
					"id": "Acc1",
					"centerId": "RotationCenter1",
					"thumbId": "Btn2_HandleAcc1",
					"numSteps": 24
				}
			]
		},
		{
			"name": "acc side",
			"type": "event",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#Ground_accel"
				},
				{
					"uri": "Blocks.svg#ThymioSideDown"
				}
			]
		},
		{
			"name": "acc upside down",
			"type": "event",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#Ground_accel"
				},
				{
					"uri": "Blocks.svg#ThymioUpsideDown"
				}
			]
		},
		{
			"name": "yaw",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Rot360Rail"
				},
				{
					"uri": "Blocks.svg#Acc2"
				}
			],
			"defaultParameters": [0],
			"rotating": [
				{
					"id": "Acc2",
					"centerId": "RotationCenter2",
					"thumbId": "Btn2_HandleAcc2",
					"numSteps": 24
				}
			]
		},
		{
			"name": "pitch",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Rot360Rail"
				},
				{
					"uri": "Blocks.svg#Acc0"
				}
			],
			"defaultParameters": [0],
			"rotating": [
				{
					"id": "Acc0",
					"centerId": "RotationCenter0",
					"thumbId": "Btn2_HandleAcc0",
					"numSteps": 24
				}
			]
		},
		{
			"name": "tap",
			"type": "event",
			"modes": ["basic", "advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Acc_Hit"
				}
			],
			"defaultParameters": []
		},
		{
			"name": "fall",
			"type": "event",
			"modes": [],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Acc_Fall"
				}
			],
			"defaultParameters": []
		},
		{
			"name": "clap",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Clap"
				}
			],
			"defaultParameters": []
		},
		{
			"name": "ground mean",
			"type": "event",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_ProxGr_bas"
				}
			],
			"defaultParameters": [true],
			"buttons": [
				{
					"id": "btn2_ProxGd_detection",
					"val": [true, false],
					"st": ["fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				}
			]
		},
		{
			"name": "ground",
			"type": "event",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_ProxGr_med"
				}
			],
			"styles": [
				{
					"id": "Led_Gd0",
					"st": "visibility:`$[0]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_Gd1",
					"st": "visibility:`$[1]>0?'visible':'hidden'`"
				}
			],
			"defaultParameters": [0, 0],
			"typicalParameters": [1, 1],
			"buttons": [
				{
					"id": "Btn3_ProxGd0",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_ProxGd1",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				}
			],
			"validation": [
				{
					"assert": "`$.reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No ground sensor specified"
				}
			]
		},
		{
			"name": "ground 1",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"js": "var gth = Math.floor($[2] * 255.99).toString(10); var g = 'rgb(' + [gth,gth,gth].join(',') + ')'; $.slice(0, 2).forEach(function (b, i) { if (b) { var lg = ctx.createLinearGradient(0, 40, 0, 460); lg.addColorStop(0, b > 0 ? 'white' : g); lg.addColorStop(1, b > 0 ? g : 'black'); ctx.fillStyle = lg; ctx.fillRect(40 + i * 335, 40, 335, 460); } });"
				},
				{
					"uri": "Blocks.svg#Ev_ProxGround_adv"
				}
			],
			"styles": [
				{
					"id": "Gradient_proxGd_0",
					"st": "visibility:hidden"
				},
				{
					"id": "Gradient_proxGd_1",
					"st": "visibility:hidden"
				},
				{
					"id": "Led_Gd0-2",
					"st": "visibility:`$[0]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_Gd1-2",
					"st": "visibility:`$[1]>0?'visible':'hidden'`"
				}
			],
			"defaultParameters": [0, 0, 0.5],
			"typicalParameters": [1, 1, 0.5],
			"sliders": [
				{
					"id": "slider_threshold_proxGd",
					"thumbId": "Cursor_proxGd",
					"min": 0,
					"max": 1,
					"discrete": [
						0.1,
						0.3,
						0.5,
						0.7,
						0.9
					]
				}
			],
			"buttons": [
				{
					"id": "Btn3_ProxGd0_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_ProxGd1_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				}
			],
			"validation": [
				{
					"assert": "`$.slice(0, 2).reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No ground sensor specified"
				}
			]
		},
		{
			"name": "horiz prox",
			"type": "event",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_ProxH_med"
				}
			],
			"styles": [
				{
					"id": "Obst_prox2",
					"st": "visibility:`$[0]>0?'visible':'hidden'`"
				},
				{
					"id": "Obst_prox1",
					"st": "visibility:`$[1]>0?'visible':'hidden'`"
				},
				{
					"id": "Obst_prox3",
					"st": "visibility:`$[2]>0?'visible':'hidden'`"
				},
				{
					"id": "Obst_prox0",
					"st": "visibility:`$[3]>0?'visible':'hidden'`"
				},
				{
					"id": "Obst_prox4",
					"st": "visibility:`$[4]>0?'visible':'hidden'`"
				},
				{
					"id": "Obst_prox5",
					"st": "visibility:`$[5]>0?'visible':'hidden'`"
				},
				{
					"id": "Obst_prox6",
					"st": "visibility:`$[6]>0?'visible':'hidden'`"
				}
			],
			"defaultParameters": [0, 0, 0, 0, 0, 0, 0],
			"typicalParameters": [1, 1, 1, 0, 0, -1, -1],
			"buttons": [
				{
					"id": "Btn3_Prox2",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_Prox1",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_Prox3",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_Prox0",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_Prox4",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_Prox5",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				},
				{
					"id": "Btn3_Prox6",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:#000000"]
				}
			],
			"validation": [
				{
					"assert": "`$.reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No proximity sensor specified"
				}
			]
		},
		{
			"name": "horiz prox front adv",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_ProxH_Front_adv"
				},
				{
					"js": "ctx.lineWidth = 20; ctx.strokeStyle = '#6200ea'; ctx.lineCap = 'round'; var rg = ctx.createRadialGradient(0, 0, 300, 0, 0, 1000); rg.addColorStop(0, 'red'); rg.addColorStop(1, 'rgba(255,0,0,0)'); ctx.fillStyle = rg; var r = 950 - 300 * $[5]; var sl = 0.2; var w = sl * (r - 300); $.slice(0, -1).forEach(function (b, i) { if (b) { var phi = 0.298 * (i + 0.65); ctx.save(); ctx.translate(0, 1000); ctx.rotate(phi); var rgr = b > 0 ? r - 300 : 950; ctx.beginPath(); ctx.moveTo(-sl * 300, -300-300); ctx.lineTo(-sl * rgr, -300 - rgr); ctx.lineTo(sl * rgr, -300 - rgr); ctx.lineTo(sl * 300, -300-300); ctx.fill(); ctx.beginPath(); ctx.moveTo(-w, -r); ctx.lineTo(w, -r); ctx.setLineDash(b > 0 ? [] : [15, 30]); ctx.strokeStyle = b < 0 ? '#607d8b' : '#6200ea'; ctx.stroke(); ctx.restore(); } });"
				}
			],
			"styles": [
				{
					"id": "Obstacles-3",
					"st": "visibility:hidden"
				},
				{
					"id": "IR_gradients_adv_empty",
					"st": "visibility:hidden"
				},
				{
					"id": "Led_0_adv",
					"st": "visibility:`$[0]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_1_adv",
					"st": "visibility:`$[1]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_2_adv",
					"st": "visibility:`$[2]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_2_adv_",
					"st": "visibility:`$[2]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_3_adv",
					"st": "visibility:`$[3]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_4_adv",
					"st": "visibility:`$[4]>0?'visible':'hidden'`"
				}

			],
			"defaultParameters": [0, 0, 0, 0, 0, 0.4],
			"typicalParameters": [0, 0, 1, 0, 0, 0.4],
			"sliders": [
				{
					"id": "value_threshold",
					"thumbId": "cursor_threshold",
					"min": 0.2,
					"max": 0.8,
					"discrete": [
						0.2,
						0.4,
						0.6,
						0.8
					]
				}
			],
			"buttons": [
				{
					"id": "Btn3_Prox0_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				},
				{
					"id": "Btn3_Prox1_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				},
				{
					"id": "Btn3_Prox2_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				},
				{
					"id": "Btn3_Prox3_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				},
				{
					"id": "Btn3_Prox4_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				}
			],
			"validation": [
				{
					"assert": "`$.slice(0,5).reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No proximity sensor specified"
				}
			]
		},
		{
			"name": "horiz prox back adv",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_ProxH_Back_adv"
				},
				{
					"js": "ctx.lineWidth = 20; ctx.strokeStyle = '#6200ea'; ctx.lineCap = 'round'; var rg = ctx.createRadialGradient(0, 0, 300, 0, 0, 1000); rg.addColorStop(0, 'red'); rg.addColorStop(1, 'rgba(255,0,0,0)'); ctx.fillStyle = rg; var r = 950 - 300 * $[2]; var sl = 0.2; var w = sl * (r - 300); $.slice(0, -1).forEach(function (b, i) { if (b) { var x = 335 + 330 * i; ctx.save(); ctx.translate(x, -250); ctx.rotate(Math.PI); var rgr = b > 0 ? r - 300 : 950; ctx.beginPath(); ctx.moveTo(-sl * 300, -300-300); ctx.lineTo(-sl * rgr, -300 - rgr); ctx.lineTo(sl * rgr, -300 - rgr); ctx.lineTo(sl * 300, -300-300); ctx.fill(); ctx.beginPath(); ctx.moveTo(-w, -r); ctx.lineTo(w, -r); ctx.setLineDash(b > 0 ? [] : [15, 30]); ctx.strokeStyle = b < 0 ? '#607d8b' : '#6200ea';ctx.stroke(); ctx.restore(); } });"
				}
			],
			"styles": [
				{
					"id": "Obstacles-4",
					"st": "visibility:hidden"
				},
				{
					"id": "IR_gradients_back_adv_obst",
					"st": "visibility:hidden"
				},
				{
					"id": "IR_gradients_back_adv_empty",
					"st": "visibility:hidden"
				},
				{
					"id": "Led_5_adv",
					"st": "visibility:`$[0]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_5_adv_",
					"st": "visibility:`$[0]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_6_adv",
					"st": "visibility:`$[1]>0?'visible':'hidden'`"
				},
				{
					"id": "Led_6_adv_",
					"st": "visibility:`$[1]>0?'visible':'hidden'`"
				}
			],
			"defaultParameters": [0, 0, 0.4],
			"typicalParameters": [1, 1, 0.4],
			"sliders": [
				{
					"id": "value_threshold_back",
					"thumbId": "cursor_threshold_back",
					"min": 0.2,
					"max": 0.8,
					"discrete": [
						0.2,
						0.4,
						0.6,
						0.8
					]
				}
			],
			"buttons": [
				{
					"id": "Btn3_Prox5_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				},
				{
					"id": "Btn3_Prox6_adv",
					"val": [0, 1, -1],
					"st": ["fill:#90a4ae", "fill:#ffffff;stroke:#ff3d00", "stroke:#263238;fill:black"]
				}
			],
			"validation": [
				{
					"assert": "`$.slice(0,2).reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No proximity sensor specified"
				}
			]
		},
		{
			"name": "remote control arrows",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Remote1"
				}
			],
			"defaultParameters": [1],
			"radiobuttons": [
				{
					"id": "Btn2_Remote1_85",
					"val": 0,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote1_80",
					"val": 1,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote1_81",
					"val": 2,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote1_86",
					"val": 3,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote1_87",
					"val": 4,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				}
			]
		},
		{
			"name": "remote control keypad",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Remote2"
				}
			],
			"defaultParameters": [1],
			"radiobuttons": [
				{
					"id": "Btn2_Remote2_0",
					"val": 0,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_1",
					"val": 1,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_2",
					"val": 2,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_3",
					"val": 3,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_4",
					"val": 4,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_5",
					"val": 5,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_6",
					"val": 6,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_7",
					"val": 7,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_8",
					"val": 8,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_9",
					"val": 9,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_16",
					"val": 16,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				},
				{
					"id": "Btn2_Remote2_17",
					"val": 17,
					"st": ["fill:#90a4ae", "fill:#ff6040;stroke:#263238"]
				}
			]
		},
		{
			"name": "timer",
			"type": "event",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_TimersUp"
				}
			]
		},
		{
			"name": "clock",
			"type": "event",
			"modes": [],
			"draw": [
				{
					"uri": "Blocks.svg#Ev_Freq"
				},
				{
					"js": "ctx.font = 'bold 170px sans-serif'; ctx.fillStyle = 'black'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText($[0].toString(10) + ' Hz', 350, 540);"
				}
			],
			"defaultParameters": [10],
			"otherParameters": 1,
			"pushbuttons": [
				{
					"id": "FreqDownDown",
					"newParameters": "`[10]`"
				},
				{
					"id": "FreqUp",
					"newParameters": "`[20]`"
				}
			]
		},
		{
			"name": "counter comparison",
			"type": "state",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#EvCounter"
				},
				{
					"js": "ctx.font = 'bold 170px sans-serif'; ctx.fillStyle = 'black'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText($[1].toString(10), 640, 520);"
				}
			],
			"defaultParameters": [0, 0],
			"otherParameters": 2,
			"pushbuttons": [
				{
					"id": "ComparatorDown",
					"newParameters": "`[Math.max($[0]-1,-2),$[1]]`"
				},
				{
					"id": "ComparatorUp",
					"newParameters": "`[Math.min($[0]+1,2),$[1]]`"
				},
				{
					"id": "ValueDown",
					"newParameters": "`[$[0],($[1]+255)%256]`"
				},
				{
					"id": "ValueUp",
					"newParameters": "`[$[0],($[1]+1)%256]`"
				}
			],
			"styles": [
				{
					"id": "AboveValue",
					"st": "visibility:`$[0]===-2?'visible':'hidden'`"
				},
				{
					"id": "AboveValue-2",
					"st": "visibility:`$[0]===-1?'visible':'hidden'`"
				},
				{
					"id": "Equals",
					"st": "visibility:`$[0]===0?'visible':'hidden'`"
				},
				{
					"id": "StrictBelowValue",
					"st": "visibility:`$[0]===1?'visible':'hidden'`"
				},
				{
					"id": "BelowValue",
					"st": "visibility:`$[0]===2?'visible':'hidden'`"
				},
				{
					"id": "State0",
					"st": "fill:`$[1]&1?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State1",
					"st": "fill:`$[1]&2?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State2",
					"st": "fill:`$[1]&4?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State3",
					"st": "fill:`$[1]&8?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State4",
					"st": "fill:`$[1]&16?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State5",
					"st": "fill:`$[1]&32?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State6",
					"st": "fill:`$[1]&64?'#ff6040':'#ffbfb2'`"
				},
				{
					"id": "State7",
					"st": "fill:`$[1]&128?'#ff6040':'#ffbfb2'`"
				}
			]
		},
		{
			"name": "state 256",
			"type": "state",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#statesEv_Bg"
				},
				{
					"uri": "Blocks.svg#StatesOff_bas"
				}
			],
			"defaultParameters": [false, false, false, false, false, false, false, false],
			"typicalParameters": [true, false, false, false, false, false, false, false],
			"buttons": [
				{
					"id": "Btn2_State0",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State1",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State2",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State3",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State4",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State5",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State6",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State7",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				}
			]
		},
		{
			"name": "state 256 with mask",
			"type": "state",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#statesEv_Bg_adv"
				},
				{
					"uri": "Blocks.svg#StatesOff_adv"
				}


			],
			"defaultParameters": [0, 0, 0, 0, 0, 0, 0, 0],
			"typicalParameters": [-1, 0, 0, 0, 0, 0, 0, 0],
			"buttons": [
				{
					"id": "Btn3_State0_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State1_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State2_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State3_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State4_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State5_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State6_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State7_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				}
			],
			"styles": [
				{
					"id": "Led0",
					"st": "visibility:`$[0]?'visible':'hidden'`"
				},
				{
					"id": "Led1",
					"st": "visibility:`$[1]?'visible':'hidden'`"
				},
				{
					"id": "Led2",
					"st": "visibility:`$[2]?'visible':'hidden'`"
				},
				{
					"id": "Led3",
					"st": "visibility:`$[3]?'visible':'hidden'`"
				},
				{
					"id": "Led4",
					"st": "visibility:`$[4]?'visible':'hidden'`"
				},
				{
					"id": "Led5",
					"st": "visibility:`$[5]?'visible':'hidden'`"
				},
				{
					"id": "Led6",
					"st": "visibility:`$[6]?'visible':'hidden'`"
				},
				{
					"id": "Led7",
					"st": "visibility:`$[7]?'visible':'hidden'`"
				}
			]
		},
		{
			"name": "color 8 state",
			"type": "state",
			"modes": ["basic", "advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#ColorPalette"
				},
				{
					"uri": "Blocks.svg#Bg_Thymio_front_color"
				},
				{
					"uri": "Blocks.svg#Gradient_Top_basic"
				},
				{
					"uri": "Blocks.svg#SelectedColors"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_SelectedNone",
					"val": 0,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedRed",
					"val": 1,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedGreen",
					"val": 2,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedYel",
					"val": 3,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedBlue",
					"val": 4,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedMagenta",
					"val": 5,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedCyan",
					"val": 6,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedWhite",
					"val": 7,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				}
			],
			"styles": [
				{
					"id": "Gradient_Top_basic",
					"st": "fill:`['transparent','red','#3f0','yellow','blue','magenta','cyan','white'][$[0]]`"
				}
			]
		},
		{
			"name": "bottom color 8 state",
			"type": "state",
			"modes": ["basic", "advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#ColorPalette-2"
				},
				{
					"uri": "Blocks.svg#Bg_Thymio_front_color-2"
				},
				{
					"uri": "Blocks.svg#Gradient_Bottom_basic"
				},
				{
					"uri": "Blocks.svg#SelectedColors_bottom"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_SelectedNone-2",
					"val": 0,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedRed-2",
					"val": 1,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedGreen-2",
					"val": 2,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedYel-2",
					"val": 3,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedBlue-2",
					"val": 4,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedMagenta-2",
					"val": 5,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedCyan-2",
					"val": 6,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedWhite-2",
					"val": 7,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				}
			],
			"styles": [
				{
					"id": "Gradient_Bottom_basic",
					"st": "fill:`['transparent','red','#3f0','yellow','blue','magenta','cyan','white'][$[0]]`"
				}
			]
		},
		{
			"name": "motor",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ac_Wheels"
				}
			],
			"styles": [
				{
					"id": "SameSpeed_R",
					"st": "fill:`Math.abs($[0])===Math.abs($[1])?'black':'transparent'`"
				},
				{
					"id": "SameSpeed_L",
					"st": "fill:`Math.abs($[0])===Math.abs($[1])?'black':'transparent'`"
				}
			],
			"diffwheelmotion": {
				"id": "ThymioTop_wheels_mini",
				"dx": -0.1,
				"dy": 0.05,
				"adjscale": 0.55,
				"color": "#aaf",
				"linewidth": 0.8
			},
			"defaultParameters": [0, 0],
			"sliders": [
				{
					"id": "SliderL_range",
					"thumbId": "Cursor_left",
					"min": -1,
					"max": 1,
					"snap": [
						0,
						"`$[1]`",
						"`-$[1]`"
					]
				},
				{
					"id": "SliderR_range",
					"thumbId": "Cursor_right",
					"min": -1,
					"max": 1,
					"snap": [
						0,
						"`$[0]`",
						"`-$[0]`"
					]
				}
			]
		},
		{
			"name": "move",
			"type": "action",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#Ac_Directions"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_StopDir",
					"val": 0,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_FwdDir",
					"val": 1,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_FwdRightDir",
					"val": 2,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_RightDir",
					"val": 3,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_BwdRightDir",
					"val": 4,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_BwdDir",
					"val": 5,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_BwdLeftDir",
					"val": 6,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_LeftDir",
					"val": 7,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				},
				{
					"id": "Btn2_FwdLeftDir",
					"val": 8,
					"st": ["fill:#90a4ae", "fill:#338bff;stroke:#263238"]
				}
			]
		},
		{
			"name": "top color 8",
			"type": "action",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#ColorPalette"
				},
				{
					"uri": "Blocks.svg#Bg_Thymio_front_color"
				},
				{
					"uri": "Blocks.svg#Gradient_Top_basic"
				},
				{
					"uri": "Blocks.svg#SelectedColors"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_SelectedNone",
					"val": 0,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedRed",
					"val": 1,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedGreen",
					"val": 2,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedYel",
					"val": 3,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedBlue",
					"val": 4,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedMagenta",
					"val": 5,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedCyan",
					"val": 6,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedWhite",
					"val": 7,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				}
			],
			"styles": [
				{
					"id": "Gradient_Top_basic",
					"st": "fill:`['transparent','red','#3f0','yellow','blue','magenta','cyan','white'][$[0]]`"
				}
			]
		},
		{
			"name": "bottom color 8",
			"type": "action",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#ColorPalette-2"
				},
				{
					"uri": "Blocks.svg#Bg_Thymio_front_color-2"
				},
				{
					"uri": "Blocks.svg#Gradient_Bottom_basic"
				},
				{
					"uri": "Blocks.svg#SelectedColors_bottom"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_SelectedNone-2",
					"val": 0,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedRed-2",
					"val": 1,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedGreen-2",
					"val": 2,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedYel-2",
					"val": 3,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedBlue-2",
					"val": 4,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedMagenta-2",
					"val": 5,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedCyan-2",
					"val": 6,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				},
				{
					"id": "Btn2_SelectedWhite-2",
					"val": 7,
					"st": ["fill:transparent", "fill:rgba(255,255,255,.3);stroke:#263238;stroke-width:2px;stroke-linejoin:round"]
				}
			],
			"styles": [
				{
					"id": "Gradient_Bottom_basic",
					"st": "fill:`['transparent','red','#3f0','yellow','blue','magenta','cyan','white'][$[0]]`"
				}
			]
		},
		{
			"name": "top color",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Color_top_adv"
				}
			],
			"defaultParameters": [0, 0, 0],
			"sliders": [
				{
					"id": "Slid_red",
					"thumbId": "Cursor_red",
					"lowerPartId": "Slid_red_value",
					"min": 0,
					"max": 1
				},
				{
					"id": "Slid_green",
					"thumbId": "Cursor_green",
					"lowerPartId": "Slid_green_value",
					"min": 0,
					"max": 1
				},
				{
					"id": "Slid_blue",
					"thumbId": "Cursor_blue",
					"lowerPartId": "Slid_blue_value",
					"min": 0,
					"max": 1
				}
			],
			"styles": [
				{
					"id": "Gradient_top",
					"st": "fill:#`rgb($).map(function (c) { return Math.floor(c * 15.999).toString(16); }).join('')`"
				}
			]
		},
		{
			"name": "bottom color",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Color_bot_adv"
				}
			],
			"defaultParameters": [0, 0, 0],
			"sliders": [
				{
					"id": "Slid_red_bot",
					"thumbId": "Cursor_red_bot",
					"lowerPartId": "Slid_red_value_bot",
					"min": 0,
					"max": 1
				},
				{
					"id": "Slid_green_bot",
					"thumbId": "Cursor_green_bot",
					"lowerPartId": "Slid_green_value_bot",
					"min": 0,
					"max": 1
				},
				{
					"id": "Slid_blue_bot",
					"thumbId": "Cursor_blue_bot",
					"lowerPartId": "Slid_blue_value_bot",
					"min": 0,
					"max": 1
				}
			],
			"styles": [
				{
					"id": "Gradient_bottom",
					"st": "fill:#`rgb($).map(function (c) { return Math.floor(c * 15.999).toString(16); }).join('')`"
				}
			]
		},
		{
			"name": "notes",
			"type": "action",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#zones_Bg"
				},
				{
					"uri": "Blocks.svg#NoteIcon"
				}
			],
			"defaultParameters": [0, 1, 1, 1, 2, 1, 0, 1, 2, 1, 4, 2],
			"score": {
				"id": "zones_Bg",
				"numHeights": 5,
				"noteSize": 0.9
			}
		},
		{
			"name": "notes with speed",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#zones_Bg"
				},
				{
					"uri": "Blocks.svg#beat"
				},
				{
					"uri": "Blocks.svg#Music_Slider"
				}
			],
			"defaultParameters": [0, 0, 1, 1, 1, 2, 1, 0, 1, 2, 1, 4, 2],
			"sliders": [
				{
					"id": "slid_tempo",
					"thumbId": "cursor_tempo",
					"min": -1,
					"max": 1
				}
			],
			"score": {
				"id": "zones_Bg",
				"numHeights": 5,
				"noteSize": 0.9
			}
		},
		{
			"name": "play",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ac_SD_play"
				},
				{
					"js": "ctx.font = 'bold 170px sans-serif'; ctx.fillStyle = 'black'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText($[0].toString(10), 770, 520);"
				}
			],
			"defaultParameters": [0],
			"otherParameters": 1,
			"pushbuttons": [
				{
					"id": "ClipDown",
					"newParameters": "`[($[0]+255)%256]`"
				},
				{
					"id": "ClipUp",
					"newParameters": "`[($[0]+1)%256]`"
				}
			]
		},
		{
			"name": "play stop",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ac_SD_stop"
				}
			],
			"defaultParameters": []

		},
		{
			"name": "set state 256",
			"type": "action",
			"modes": ["basic"],
			"draw": [
				{
					"uri": "Blocks.svg#statesAct_Bg"
				},
				{
					"uri": "Blocks.svg#StatesOff_bas"
				}
			],
			"defaultParameters": [false, false, false, false, false, false, false, false],
			"typicalParameters": [true, false, false, false, false, false, false, false],
			"buttons": [
				{
					"id": "Btn2_State0",
					"val": [false, true],
					"st": ["fill:#455a64","fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State1",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State2",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State3",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State4",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State5",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State6",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				},
				{
					"id": "Btn2_State7",
					"val": [false, true],
					"st": ["fill:#455a64", "fill:#ffee58;stroke:#263238"]
				}
			]
		},
		{
			"name": "set state 256 with mask",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#statesAct_Bg_adv"
				},
				{
					"uri": "Blocks.svg#StatesOff_adv"
				}

			],
			"defaultParameters": [0, 0, 0, 0, 0, 0, 0, 0],
			"typicalParameters": [-1, 0, 0, 0, 0, 0, 0, 0],
			"buttons": [
				{
					"id": "Btn3_State0_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State1_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State2_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State3_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State4_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State5_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State6_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				},
				{
					"id": "Btn3_State7_adv",
					"val": [0, 1, -1],
					"st": ["stroke:#607d8b", "fill:#ffee58;stroke:#263238", "fill:#455a64;stroke:#263238"]
				}
			],
			"styles": [
				{
					"id": "Led0",
					"st": "visibility:`$[0]?'visible':'hidden'`"
				},
				{
					"id": "Led1",
					"st": "visibility:`$[1]?'visible':'hidden'`"
				},
				{
					"id": "Led2",
					"st": "visibility:`$[2]?'visible':'hidden'`"
				},
				{
					"id": "Led3",
					"st": "visibility:`$[3]?'visible':'hidden'`"
				},
				{
					"id": "Led4",
					"st": "visibility:`$[4]?'visible':'hidden'`"
				},
				{
					"id": "Led5",
					"st": "visibility:`$[5]?'visible':'hidden'`"
				},
				{
					"id": "Led6",
					"st": "visibility:`$[6]?'visible':'hidden'`"
				},
				{
					"id": "Led7",
					"st": "visibility:`$[7]?'visible':'hidden'`"
				}
			]
		},
		{
			"name": "set timer",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#Ac_Timer"
				},
				{
					"js": "ctx.font = 'bold 170px sans-serif'; ctx.fillStyle = 'black'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(Math.floor($[0]).toString(10),330,550); ctx.fillText((10*$[0]%10).toString(10),690,550); ctx.font = '170px sans-serif'; ctx.fillText('s',450,550);"
				}
			],
			"defaultParameters": [1],
			"otherParameters": 1,
			"pushbuttons": [
				{
					"id": "SecUp",
					"newParameters": "`[Math.round((10*$[0]+10)%100)/10]`"
				},
				{
					"id": "SecDown",
					"newParameters": "`[Math.round((10*$[0]+90)%100)/10]`"
				},
				{
					"id": "TSecUp",
					"newParameters": "`[Math.round((10*$[0]+1)%100)/10]`"
				},
				{
					"id": "TSecDown",
					"newParameters": "`[Math.round((10*$[0]+99)%100)/10]`"
				}
			],
			"styles": [
				{
					"id": "S_Unit",
					"st": "visibility:hidden"
				}
			]
		},
		{
			"name": "arithmetic",
			"type": "action",
			"modes": ["advanced"],
			"draw": [
				{
					"uri": "Blocks.svg#AcCounter"
				},
				{
					"js": "ctx.font = 'bold 170px sans-serif'; ctx.fillStyle = 'black'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(['=','+','\u2212','\u00d7','\u00f7'][$[0]], 340, 520); ctx.fillText($[1].toString(10), 650, 520);"
				}
			],
			"defaultParameters": [0, 0, true],
			"otherParameters": 3,
			"pushbuttons": [
				{
					"id": "ComparatorDown-2",
					"newParameters": "`[($[0]+4)%5,$[1],$[2]]`"
				},
				{
					"id": "ComparatorUp-2",
					"newParameters": "`[($[0]+1)%5,$[1],$[2]]`"
				},
				{
					"id": "ValueDown-2",
					"newParameters": "`[$[0],($[1]+255)%256,$[2]]`"
				},
				{
					"id": "ValueUp-2",
					"newParameters": "`[$[0],($[1]+1)%256,$[2]]`"
				},
				{
					"id": "Btn_Saturate_On",
					"newParameters": "`[$[0],$[1],!$[2]]`"
				},
				{
					"id": "Btn_Saturate_Off",
					"newParameters": "`[$[0],$[1],!$[2]]`"
				}
			],
			"styles": [
				{
					"id": "Equals-2",
					"st": "visibility:hidden"
				},
				{
					"id": "Plus",
					"st": "visibility:hidden"
				},
				{
					"id": "Minus",
					"st": "visibility:hidden"
				},
				{
					"id": "Multiply",
					"st": "visibility:hidden"
				},
				{
					"id": "Divide",
					"st": "visibility:hidden"
				},
				{
					"id": "Led0",
					"st": "fill:`$[1]&1?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led1",
					"st": "fill:`$[1]&2?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led2",
					"st": "fill:`$[1]&4?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led3",
					"st": "fill:`$[1]&8?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led4",
					"st": "fill:`$[1]&16?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led5",
					"st": "fill:`$[1]&32?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led6",
					"st": "fill:`$[1]&64?'#338bff':'#99ccff'`"
				},
				{
					"id": "Led7",
					"st": "fill:`$[1]&128?'#338bff':'#99ccff'`"
				},
				{
					"id": "Btn_Saturate_On",
					"st": "visibility:`$[2]?'visible':'hidden'`"
				},
				{
					"id": "Btn_Saturate_Off",
					"st": "visibility:`$[2]?'hidden':'visible'`"
				}
			]
		},
		{
			"name": "button",
			"type": "event",
			"modes": [],
			"draw": [
				{
					"uri": "Blocks16.svg#Event_bg_1_6"
				},
				{
					"uri": "Blocks16.svg#button"
				}
			],
			"defaultParameters": [false, false, false, false, false],
			"typicalParameters": [false, false, false, true, true],
			"buttons": [
				{
					"id": "Btn2_center",
					"val": [false, true],
					"st": ["", "fill:red;stroke:black"]
				},
				{
					"id": "Btn2_Fwd",
					"val": [false, true],
					"st": ["", "fill:red;stroke:black"]
				},
				{
					"id": "Btn2_Bwd",
					"val": [false, true],
					"st": ["", "fill:red;stroke:black"]
				},
				{
					"id": "Btn2_right",
					"val": [false, true],
					"st": ["", "fill:red;stroke:black"]
				},
				{
					"id": "Btn2_Left",
					"val": [false, true],
					"st": ["", "fill:red;stroke:black"]
				}
			],
			"validation": [
				{
					"assert": "`$.reduce(function (acc, p) { return acc || p; }, false)`",
					"warning": "No button specified"
				}
			]
		},
		{
			"name": "horiz prox adv",
			"type": "event",
			"modes": [],
			"draw": [
				{
					"uri": "Blocks16.svg#Event_bg_1_6"
				},
				{
					"uri": "Blocks16.svg#horiz_prox_adv"
				},
				{
					"js": "if ($[7] < $[8]) { var x1 = 120 + 760 * $[7], x2 = 120 + 760 * $[8], y0 = 575, d = 100; ctx.fillStyle = 'silver'; ctx.strokeStyle = 'black'; ctx.lineWidth = 20; ctx.lineJoin = 'round'; ctx.beginPath(); if ($[7] + d / 760 < $[8]) { ctx.moveTo(x1, y0); ctx.lineTo(x1+d, y0+d); ctx.lineTo(x2, y0+d); ctx.lineTo(x2, y0); ctx.lineTo(x2-d, y0-d); ctx.lineTo(x1, y0-d); } else { ctx.moveTo(x1, y0); ctx.lineTo(x2, y0+x2-x1); ctx.lineTo(x2, y0); ctx.lineTo(x1, y0-x2+x1); } ctx.closePath(); ctx.fill(); ctx.stroke(); }"
				}
			],
			"styles": [
				{
					"id": "Led_prox2",
					"st": "visibility:`$[0]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox2-2",
					"st": "visibility:`$[0]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox1",
					"st": "visibility:`$[1]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox3",
					"st": "visibility:`$[2]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox0",
					"st": "visibility:`$[3]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox4",
					"st": "visibility:`$[4]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox5",
					"st": "visibility:`$[5]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_prox6",
					"st": "visibility:`$[6]===1?'visible':'hidden'`"
				},
				{
					"id": "Grey_threshold",
					"st": "visibility:hidden"
				}
			],
			"defaultParameters": [0, 0, 0, 0, 0, 0, 0, 0.1, 0.4],
			"typicalParameters": [1, 1, 1, 0, 0, 2, 2, 0.1, 0.4],
			"buttons": [
				{
					"id": "Btn3_prox2",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_prox1",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_prox3",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_prox0",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_prox4",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_prox5",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_prox6",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#999;stroke:black"]
				}
			],
			"sliders": [
				{
					"id": "Black_threshold",
					"thumbId": "Black_cursor_front",
					"min": 0,
					"max": 1
				},
				{
					"id": "White_threshold",
					"thumbId": "White_cursor_front",
					"min": 0,
					"max": 1
				}
			],
			"validation": [
				{
					"assert": "`$.slice(0, 7).reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No proximity sensor specified"
				}
			]
		},
		{
			"name": "ground adv",
			"type": "event",
			"modes": [],
			"draw": [
				{
					"uri": "Blocks16.svg#Event_bg_1_6"
				},
				{
					"uri": "Blocks16.svg#gd_prox_adv"
				},
				{
					"js": "if ($[2] < $[3]) { var x1 = 120 + 760 * $[2], x2 = 120 + 760 * $[3], y0 = 575, d = 100; ctx.fillStyle = 'silver'; ctx.strokeStyle = 'black'; ctx.lineWidth = 20; ctx.lineJoin = 'round'; ctx.beginPath(); if ($[2] + d / 760 < $[3]) { ctx.moveTo(x1, y0); ctx.lineTo(x1+d, y0+d); ctx.lineTo(x2, y0+d); ctx.lineTo(x2, y0); ctx.lineTo(x2-d, y0-d); ctx.lineTo(x1, y0-d); } else { ctx.moveTo(x1, y0); ctx.lineTo(x2, y0+x2-x1); ctx.lineTo(x2, y0); ctx.lineTo(x1, y0-x2+x1); } ctx.closePath(); ctx.fill(); ctx.stroke(); }"
				}
			],
			"styles": [
				{
					"id": "Led_Gd_prpx0",
					"st": "visibility:`$[0]===1?'visible':'hidden'`"
				},
				{
					"id": "Led_Gd_prox1",
					"st": "visibility:`$[1]===1?'visible':'hidden'`"
				},
				{
					"id": "Grey_threshold-2",
					"st": "visibility:hidden"
				}
			],
			"defaultParameters": [0, 0, 0.4, 0.6],
			"typicalParameters": [1, 1, 0.4, 0.6],
			"buttons": [
				{
					"id": "Btn3_Gd_prox0",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				},
				{
					"id": "Btn3_Gd_prox1",
					"val": [0, 1, 2, 3],
					"st": ["", "fill:white;stroke:red", "fill:black;stroke:black", "fill:#666;stroke:black"]
				}
			],
			"sliders": [
				{
					"id": "Black_threshold-2",
					"thumbId": "Black_cursor",
					"min": 0,
					"max": 1
				},
				{
					"id": "White_threshold-2",
					"thumbId": "White_cursor",
					"min": 0,
					"max": 1
				}
			],
			"validation": [
				{
					"assert": "`$.slice(0, 2).reduce(function (acc, p) { return acc || p != 0; }, false)`",
					"warning": "No ground sensor specified"
				}
			]
		}
	],
	"widgets": [
		{
			"name": "vpl:then",
			"draw": [
				{
					"uri": "Icons.svg#ic_then"
				}
			]
		},
		{
			"name": "vpl:error",
			"draw": [
				{
					"uri": "Icons.svg#Error"
				}
			]
		},
		{
			"name": "vpl:warning",
			"draw": [
				{
					"uri": "Icons.svg#Warning"
				}
			]
		},
		{
			"name": "vpl:moreLow",
			"draw": [
				{
					"uri": "Icons.svg#ScrollDown"
				}
			]
		},
		{
			"name": "vpl:moreHigh",
			"draw": [
				{
					"uri": "Icons.svg#ScrollUp"
				}
			]
		}
	],
	"svgFilenames": [
		"Icons.svg",
		"Blocks.svg",
		"Blocks16.svg"
	],
	"overlays": [
		"block-list.json",

		"aesl.json",

		"aseba.json",
		"l2.json",
		"js.json",
		"python.json",

		"toolbars.json",
		"buttons.json",

		"block-en.json",
		"cmd-sim-en.json",
		"cmd-vpl-en.json",
		"help-blocks-en.json",
		"messages-en.json",

		"block-de.json",
		"cmd-sim-de.json",
		"cmd-vpl-de.json",
		"help-blocks-de.json",
		"messages-de.json",

		"block-fr.json",
		"cmd-sim-fr.json",
		"cmd-vpl-fr.json",
		"help-blocks-fr.json",
		"messages-fr.json",

		"block-it.json",
		"cmd-vpl-it.json",
		"cmd-sim-it.json",
		"help-blocks-it.json",
		"messages-it.json"
	]
}
